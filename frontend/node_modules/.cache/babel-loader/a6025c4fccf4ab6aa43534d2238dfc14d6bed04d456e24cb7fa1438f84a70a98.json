{"ast":null,"code":"export async function parseWithAIOrFallback(input) {\n  try {\n    const aiRes = await fetch('/api/parse', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        input\n      })\n    });\n    if (!aiRes.ok) throw new Error('AI parsing failed');\n    const aiData = await aiRes.json();\n    if (aiData && aiData.ai_output) return aiData.ai_output;\n  } catch (err) {\n    console.warn('Falling back to keyword search:', err);\n  }\n  const fallbackRes = await fetch(`/firstaid/${encodeURIComponent(input)}`);\n  if (!fallbackRes.ok) throw new Error('Fallback also failed');\n  const fallbackData = await fallbackRes.json();\n  return fallbackData.steps || [\"Sorry, no instructions found.\"];\n}","map":{"version":3,"names":["parseWithAIOrFallback","input","aiRes","fetch","method","headers","body","JSON","stringify","ok","Error","aiData","json","ai_output","err","console","warn","fallbackRes","encodeURIComponent","fallbackData","steps"],"sources":["/Users/tammylara/Desktop/Carla Ramirez/CMSC 495/first-aid-app/frontend/src/services/api.ts"],"sourcesContent":["export async function parseWithAIOrFallback(input: string) {\n  try {\n    const aiRes = await fetch('/api/parse', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ input }),\n    });\n\n    if (!aiRes.ok) throw new Error('AI parsing failed');\n\n    const aiData = await aiRes.json();\n    if (aiData && aiData.ai_output) return aiData.ai_output;\n  } catch (err) {\n    console.warn('Falling back to keyword search:', err);\n  }\n\n  const fallbackRes = await fetch(`/firstaid/${encodeURIComponent(input)}`);\n  if (!fallbackRes.ok) throw new Error('Fallback also failed');\n  const fallbackData = await fallbackRes.json();\n  return fallbackData.steps || [\"Sorry, no instructions found.\"];\n}\n"],"mappings":"AAAA,OAAO,eAAeA,qBAAqBA,CAACC,KAAa,EAAE;EACzD,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;MACtCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP;MAAM,CAAC;IAChC,CAAC,CAAC;IAEF,IAAI,CAACC,KAAK,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;IAEnD,MAAMC,MAAM,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,CAAC;IACjC,IAAID,MAAM,IAAIA,MAAM,CAACE,SAAS,EAAE,OAAOF,MAAM,CAACE,SAAS;EACzD,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,IAAI,CAAC,iCAAiC,EAAEF,GAAG,CAAC;EACtD;EAEA,MAAMG,WAAW,GAAG,MAAMd,KAAK,CAAC,aAAae,kBAAkB,CAACjB,KAAK,CAAC,EAAE,CAAC;EACzE,IAAI,CAACgB,WAAW,CAACR,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EAC5D,MAAMS,YAAY,GAAG,MAAMF,WAAW,CAACL,IAAI,CAAC,CAAC;EAC7C,OAAOO,YAAY,CAACC,KAAK,IAAI,CAAC,+BAA+B,CAAC;AAChE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}